introSequences:
  - name: base_sequence
    desc: Nothing fancy
    introSteps:
      - name: Political Leanings Survey
        elements:
          - type: survey
            surveyName: PoliticalPartyUS
      - name: Ten Item Personality Inventory
        elements:
          - type: survey
            surveyName: TIPI
      - name: Topic Presurvey
        elements:
          - type: prompt
            file: projects/css_lab/presurvey_instructions.md
          - type: prompt
            file: shared/procon/reparationsforslavery_survey.md
          - type: prompt
            file: shared/procon/privateprisons_survey.md
          - type: prompt
            file: shared/procon/school-uniforms_survey.md
          - type: prompt
            file: shared/procon/obesity_survey.md
          - type: prompt
            file: shared/procon/milk_survey.md
          - type: prompt
            file: shared/procon/internet_survey.md
          - type: prompt
            file: shared/procon/gold-standard_survey.md
          - type: prompt
            file: shared/procon/freecollege_survey.md
          - type: prompt
            file: shared/procon/filibuster_survey.md
          - type: prompt
            file: shared/procon/dcandpuertoricostatehood_survey.md
            name: focalTopic
          - type: submitButton
      - name: Demographic Survey
        elements:
          - type: survey
            surveyName: Demographics
      - name: Self-awareness, Self-monitoring, and Growth Mindset
        elements:
          - type: survey
            surveyName: AwarenessMonitoringGrowth

treatments:
  - name: baseline
    desc: no frills or treatments, just the basics
    playerCount: 2
    groupComposition:
      - name: in favor
        position: 0
        conditions:
          - sourceType: prompt
            promptName: { topic }
            comparator: greaterThan
            value: 3
      - name: against
        position: 1
        conditions:
          - sourceType: prompt
            promtName: { topic }
            comparator: lessThan
            value: 3
    gameStages:
      - name: Attitude Attributes
        duration: 300
        elements:
          - projects/css_lab/attitude_attribute_instructions_A.md
          - shared/procon/dcandpuertoricostatehood_topic.md
          - type: display
            promptName: focalTopic
            position: "player"
          - projects/css_lab/attitude_attribute_instructions_B.md
          - type: survey
            surveyName: AttitudeAttributes

      - name: Discussion
        duration: 1800
        discussion:
          chatType: video
          showNickname: true
          showTitle: false
        elements:
          - type: prompt
            file: projects/css_lab/5min_warning.md
            displayTime: 1500
          - type: timer
            warnTimeRemaining: 300
          - shared/procon/dcandpuertoricostatehood_topic.md
          - type: prompt
            name: sharedResponse
            file: projects/css_lab/discussion_instructions.md
            shared: true
          - type: audio
            file: shared/airplane_chime.mp3
            displayTime: 1500
          - type: submitButton
            buttonText: Submit response and end discussion
            displayTime: 10

    exitSequence:
      - name: Attitude Change
        elements:
          - type: prompt
            file: projects/css_lab/attitude_change_instructions.md
          - type: prompt
            file: shared/procon/dcandpuertoricostatehood_survey.md
          - type: submitButton

      - name: Buy-in
        elements:
          - type: prompt
            file: projects/css_lab/buy_in_instructions.md
          - type: prompt
            file: shared/procon/dcandpuertoricostatehood_topic.md
          - type: display
            promptName: sharedResponse
            position: shared
          - type: prompt
            name: buyInRating
            file: projects/css_lab/buy_in_rating.md
          - type: prompt
            name: buyInShare
            file: projects/css_lab/buy_in_share.md
            conditions:
              - promptName: buyInRating
                comparator: exists
          - type: prompt
            name: buyInAttribution
            file: projects/css_lab/buy_in_attribution.md
            conditions:
              - promptName: buyInShare
                comparator: equal
                value: "Yes"
          - type: submitButton
            conditions:
              - promptName: buyInShare
                comparator: exists

      - name: Arguments in favor
        elements:
          - type: prompt
            file: shared/procon/dcandpuertoricostatehood_topic.md
          - type: prompt
            file: projects/css_lab/arguments_in_favor.md

      - name: Arguments against

      - name: Affect towards disagreeers / tolerance

      - name: Willingness to Return
        elements:
          - type: prompt
            file: projects/css_lab/willing_to_return.md
            name: willing
          - type: prompt
            file: projects/css_lab/tmp_embed_scheduler_here.md
            conditions:
              - promptName: willing
                comparator: equal
                value: "Yes"
          - type: submitButton
